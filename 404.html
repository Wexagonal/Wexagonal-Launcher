<script>
    window.addEventListener('load', async () => {
        navigator.serviceWorker.register(`/sw.js?time=${new Date().getTime()}`)
            .then(async reg => {

                setTimeout(() => {
                    window.location.search = `?time=${new Date().getTime()}`
                }, 1000)
            }).catch(err => {
                //安装失败，错误信息会由err传参
            })
    });
</script>